<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
<div class="card">
    <div class="card-header">
      <mat-icon>mail</mat-icon> بريد النظام  <hr>
    </div>
    <div class="card-body">
        <div id="icons" class="form-group row mr-3">
            <button type="button" class="btn btn-md" [disabled]="addDisabled" (click)="openAddMailDialog()"><div class="plus_bold"> + </div></button> 
            &nbsp;&nbsp;
        </div>
        <table mat-table [dataSource]="systemMailList" class="mat-elevation-z8">
            <ng-container matColumnDef="mailIcon">
                <th class="text-center" style="width: 5%;" mat-header-cell *matHeaderCellDef>  </th>
                <td mat-cell style="padding-bottom: 5px;" *matCellDef="let mail"> 
                    <i *ngIf="mail.status === 'READ'" class="fa fa-envelope-open-o"></i> 
                    <i *ngIf="mail.status === 'UNREAD'" class="fa fa-envelope-o"></i>   
                </td>
            </ng-container>
            <ng-container matColumnDef="srNo">
                <th class="text-center" style="width: 5%" mat-header-cell *matHeaderCellDef> الرقم </th>
                <td mat-cell *matCellDef="let mail"> {{ mail.srNo }} </td>
            </ng-container>
            <ng-container matColumnDef="from">
                <th class="text-center" mat-header-cell *matHeaderCellDef> من عند </th>
                <td mat-cell *matCellDef="let mail"> {{ mail.from }} </td>
            </ng-container>
            <ng-container matColumnDef="to">
                <th class="text-center" mat-header-cell *matHeaderCellDef> إلى</th>
                <td mat-cell *matCellDef="let mail"> {{ mail.to }} </td>
            </ng-container>
            <ng-container matColumnDef="subject">
                <th class="text-center" mat-header-cell *matHeaderCellDef> موضوع </th>
                <td mat-cell *matCellDef="let mail"> {{ mail.subject }} </td>
            </ng-container>
            <ng-container matColumnDef="sentDate">
                <th class="text-center" mat-header-cell *matHeaderCellDef> تاريخ الإرسال </th>
                <td mat-cell *matCellDef="let mail"> {{ mail.sentDate }} </td>
            </ng-container>
            <ng-container matColumnDef="attachment">
                <th class="text-center" style="width: 5%" mat-header-cell *matHeaderCellDef> المرفق </th>
                <td mat-cell *matCellDef="let mail"> 
                    <mat-icon *ngIf="mail.attachment">attachment</mat-icon>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let mail; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>